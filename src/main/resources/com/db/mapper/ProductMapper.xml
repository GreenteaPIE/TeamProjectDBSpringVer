<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.db.mapper.ProductMapper">

	<!-- 메인 브랜드 리스트 -->
	<select id="brandList" resultType="com.db.model.BrandVO">

		select * from brand

	</select>

	<!-- 브랜드 상품 리스트 -->
	<select id="brandProductList"
		resultType="com.db.model.ProductVO">

		SELECT num, pGender, bName, kind, pName, imgUrl, pSize, balance,
		price, purchasedNum, explain, writedate, readcount FROM (SELECT num,
		pGender, bName, kind, pName, imgUrl, pSize, balance, price,
		purchasedNum, explain, writedate, readcount, ROW_NUMBER() OVER
		(PARTITION BY pName ORDER BY num) RN FROM PRODUCT WHERE bname LIKE
		#{bname} )WHERE RN = 1
		
	</select>
</mapper>